"use strict";(self.webpackChunkreact_course=self.webpackChunkreact_course||[]).push([[111],{111:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var r=t(8683),o=t(5671),u=t(3144),i=t(136),s=t(3668),c=t(2791),a=t(364),l=t(7781),f=t(4013),p="NOT_FOUND";var d=function(e,n){return e===n};function h(e,n){var t="object"===typeof n?n:{equalityCheck:n},r=t.equalityCheck,o=void 0===r?d:r,u=t.maxSize,i=void 0===u?1:u,s=t.resultEqualityCheck,c=function(e){return function(n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,o=0;o<r;o++)if(!e(n[o],t[o]))return!1;return!0}}(o),a=1===i?function(e){var n;return{get:function(t){return n&&e(n.key,t)?n.value:p},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(c):function(e,n){var t=[];function r(e){var r=t.findIndex((function(t){return n(e,t.key)}));if(r>-1){var o=t[r];return r>0&&(t.splice(r,1),t.unshift(o)),o.value}return p}return{get:r,put:function(n,o){r(n)===p&&(t.unshift({key:n,value:o}),t.length>e&&t.pop())},getEntries:function(){return t},clear:function(){t=[]}}}(i,c);function l(){var n=a.get(arguments);if(n===p){if(n=e.apply(null,arguments),s){var t=a.getEntries(),r=t.find((function(e){return s(e.value,n)}));r&&(n=r.value)}a.put(arguments,n)}return n}return l.clearCache=function(){return a.clear()},l}function v(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return n}function y(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var o=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var u,i=0,s={memoizeOptions:void 0},c=r.pop();if("object"===typeof c&&(s=c,c=r.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var a=s,l=a.memoizeOptions,f=void 0===l?t:l,p=Array.isArray(f)?f:[f],d=v(r),h=e.apply(void 0,[function(){return i++,c.apply(null,arguments)}].concat(p)),y=e((function(){for(var e=[],n=d.length,t=0;t<n;t++)e.push(d[t].apply(null,arguments));return u=h.apply(null,e)}));return Object.assign(y,{resultFunc:c,memoizedResultFunc:h,dependencies:d,lastResult:function(){return u},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),y};return o}var g=y(h),m=g((function(e){return e.users.Users}),(function(e){return e.filter((function(e){return!0}))})),j=function(e){return e.users.pageSize},w=function(e){return e.users.totalUsersCount},b=function(e){return e.users.currentPage},x=function(e){return e.users.isFetching},P=function(e){return e.users.followProgress},C=t(3504),_=t(8478),N=t(9748),S=t(184),O=function(e){return(0,S.jsx)("div",{className:"user-wrapper",children:(0,S.jsxs)("div",{className:"user",children:[(0,S.jsx)("div",{className:"user-image",children:(0,S.jsx)(C.OL,{to:"/profile/"+e.id,children:(0,S.jsx)("img",{className:"currentUser__img",src:null!=e.photosSmall?e.photosSmall:_,alt:"user"})})}),(0,S.jsxs)("div",{className:"user-info",children:[(0,S.jsx)(C.OL,{to:"/profile/"+e.id,children:(0,S.jsx)("div",{className:"user-fullName",children:(0,S.jsxs)("span",{className:"user-firstName",children:[e.name,"\xa0"]})})}),(0,S.jsxs)("div",{className:"user-status",children:["\u0421\u0442\u0430\u0442\u0443\u0441: ",e.status," "]})]}),(0,S.jsx)("div",{className:"user-follow",children:e.followed?(0,S.jsx)(N.z,{transparent:!0,disabled:e.followProgress.some((function(n){return n===e.id})),onClick:function(){e.unFollow(e.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439"}):(0,S.jsx)(N.z,{transparent:!0,second:!0,disabled:e.followProgress.some((function(n){return n===e.id})),onClick:function(){e.follow(e.id)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0434\u0440\u0443\u0437\u044c\u044f"})})]})})},Z=t(6398),k=t(7342),z=t(885),E=function(e){for(var n=e.totalItemsCount,t=e.pageSize,r=e.currentPage,o=e.onPageChanged,u=e.portionSize,i=void 0===u?10:u,s=[],a=Math.ceil(n/t),l=1;l<=a;l++)s.push(l);var f=Math.ceil(a/i),p=(0,c.useState)(1),d=(0,z.Z)(p,2),h=d[0],v=d[1],y=(h-1)*i+1,g=h*i,m=s.filter((function(e){return e>=y&&e<=g})).map((function(e){return(0,S.jsx)("span",{className:r===e?"pagination__selected":void 0,onClick:function(){o(e)},children:e},e)}));return(0,S.jsx)("div",{className:"pagination",children:(0,S.jsxs)(k.Ej,{align:"center",children:[h>1&&(0,S.jsx)(N.z,{transparent:!0,onClick:function(){v(h-1)},margin:"0 10px 0 0",children:"\u041d\u0430\u0437\u0430\u0434"}),m,f>h&&(0,S.jsx)(N.z,{transparent:!0,onClick:function(){v(h+1)},margin:"0 0 0 10px",children:"\u0414\u0430\u043b\u0435\u0435"})]})})},F=function(e){var n=e.Users.map((function(n){return(0,S.jsx)(O,{id:n.id,name:n.name,photosSmall:n.photos.small,photosLarge:n.photos.large,status:n.status,followed:n.followed,followProgress:e.followProgress,follow:e.follow,unFollow:e.unFollow},n.id)}));return(0,S.jsx)("div",{className:"point__users",children:(0,S.jsx)(k.W2,{children:(0,S.jsx)("div",{className:"users__main-content",children:(0,S.jsx)("div",{className:"users-middle",children:(0,S.jsxs)("div",{className:"users-middle__header",children:[(0,S.jsxs)("div",{className:"users-middle__title",children:["\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",(0,S.jsx)(E,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged})]}),e.isFetching?(0,S.jsx)(Z.Xl,{}):null,(0,S.jsx)("div",{className:"users-wrapper",children:n})]})})})})})},U=function(e){(0,i.Z)(t,e);var n=(0,s.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var r=arguments.length,u=new Array(r),i=0;i<r;i++)u[i]=arguments[i];return(e=n.call.apply(n,[this].concat(u))).onPageChanged=function(n){var t=e.props.pageSize;e.props.requestUsers(n,t)},e}return(0,u.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props,n=e.currentPage,t=e.pageSize;this.props.requestUsers(n,t)}},{key:"render",value:function(){return(0,S.jsx)(F,(0,r.Z)({onPageChanged:this.onPageChanged},this.props))}}]),t}(c.Component),R=(0,l.qC)((0,a.$j)((function(e){return{Users:m(e),pageSize:j(e),totalUsersCount:w(e),currentPage:b(e),isFetching:x(e),followProgress:P(e)}}),{userFollow:f.Xb,setCurrentPage:f.D4,followInProgress:f.XA,requestUsers:f.D7,follow:f.ZN,unFollow:f.IJ}))(U)},7326:function(e,n,t){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return r}})},5671:function(e,n,t){function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}t.d(n,{Z:function(){return r}})},3144:function(e,n,t){function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}t.d(n,{Z:function(){return o}})},3668:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(1120),o=t(8814);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var i=t(7326);function s(e,n){if(n&&("object"===u(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}function c(e){var n=(0,o.Z)();return function(){var t,o=(0,r.Z)(e);if(n){var u=(0,r.Z)(this).constructor;t=Reflect.construct(o,arguments,u)}else t=o.apply(this,arguments);return s(this,t)}}},1120:function(e,n,t){function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.d(n,{Z:function(){return r}})},136:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(9611);function o(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&(0,r.Z)(e,n)}},8814:function(e,n,t){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}t.d(n,{Z:function(){return r}})},9611:function(e,n,t){function r(e,n){return r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},r(e,n)}t.d(n,{Z:function(){return r}})}}]);
//# sourceMappingURL=111.78e9cc84.chunk.js.map